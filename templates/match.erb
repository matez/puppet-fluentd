<match <%= @pattern %>>
<% @config.sort_by {|k,v| k}.each do |key, val| -%>
    <%- if val.is_a?( Hash ) -%>
        <<%= key -%>>
        <%- val.sort_by {|k,v| k}.each do |subkey, subval| -%>
            <%= subkey -%> <%= subval %>
        <%- end -%>
        </<%= key %>>
    <%- elsif val.is_a?( Array ) -%>
        <%- val.each do |kk, vv| -%>
            <<%= key -%>>
            <%- if k.is_a?( Hash ) -%>
                <%- k.sort_by {|k,v| k}.each do |x, y| -%>
                    <%- if y.is_a?( Array ) -%>
                        <%- y.each do |a, b| -%>
                            <<%= x -%>>
                            <%- if a.is_a?( Hash ) -%>
                                <%- a.sort_by {|k,v| k}.each do |c, d| -%>
                                    <%= c -%> <%= d %>
                                <%- end -%>
                            <%- else -%>
                                <%= a -%> <%= b %>
                            <%- end -%>
                            </<%= x %>>
                        <%- end -%>
                    <%- else -%>
                        <%= x -%> <%= y %>
                    <%- end -%>
                <%- end -%>
            <%- else -%>
                <%= kk -%> <%= vv %>
            <%- end -%>
            </<%= key %>>
        <%- end -%>
    <%- else -%>
        <%= key -%> <%= val %>
    <%- end -%>
<% end -%>
</match>
